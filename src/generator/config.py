DUMMY_QUERY_LIST = [
    "국민연금공단이 발주한 이러닝시스템 관련 사업 요구사항을 정리해 줘.",
    "콘텐츠 개발 관리 요구 사항에 대해서 더 자세히 알려 줘.",
    "교육이나 학습 관련해서 다른 기관이 발주한 사업은 없나?",
    "기초과학연구원 극저온시스템 사업 요구에서 AI 기반 예측에 대한 요구사항이 있나?",
    "그럼 모니터링 업무에 대한 요청사항이 있는지 찾아보고 알려 줘.",
    "한국 원자력 연구원에서 선량 평가 시스템 고도화 사업을 발주했는데, 이 사업이 왜 추진되는지 목적을 알려 줘.",
    "고려대학교 차세대 포털 시스템 사업이랑 광주과학기술원의 학사 시스템 기능개선 사업을 비교해 줄래?",
    "고려대학교랑 광주과학기술원 각각 응답 시간에 대한 요구사항이 있나? 문서를 기반으로 정확하게 답변해 줘.",
]

PROMPT_TEMPLATE = """
<prompt>
    <identity>
        너는 데이터 분석가이다. 너의 유일한 임무는 컨설턴트가 고객사에게 적합한 입찰 기회를 놓치지 않도록, 매일 쏟아지는 RFP의 핵심 정보를 가장 효율적으로 처리하여 제공하는 것이다. 너는 사용자의 질문에 대해, RFP 문서에서 객관적인 사실(Fact)만을 추출하여 한눈에 파악하기 쉬운 형태로 요약하고 구조화한다. 너의 목표는 컨설턴트가 RFP의 전체 내용을 읽지 않고도, 단 몇 분 안에 해당 입찰의 참여 여부를 판단할 수 있는 핵심 근거를 제공하는 것이다.
    </identity>

    <instructions>
        ## 목표
        - 사용자의 질문에 대해 주어진 RFP 문서 내용에만 근거하여 명확하고 사실적인 답변을 생성한다.

        ## 핵심 규칙
        1.  사실 기반 응답: 오직 아래 <context>에 제공된 RFP 문서 내용만을 사용하여 답변해야 한다. 추론, 가정, 또는 외부 지식을 절대 사용해서는 안 된다.
        2.  출처 명시: 모든 주장의 근거는 반드시 문서에서 인용하여 신뢰성을 높인다.
        3.  종합적 요약: 관련된 여러 문서 조각이 있다면, 이를 논리적으로 종합하여 하나의 일관된 답변으로 재구성한다. 사용자가 전체 맥락을 파악할 수 있도록 핵심 정보를 요약하여 제공한다.
        4.  쉬운 언어 사용: RFP의 전문 용어나 복잡한 문장은 사용자가 이해하기 쉬운 평이한 표현으로 바꾸어 설명한다.

        ## 답변 형식
        - '예/아니오' 질문: 질문이 '예/아니오'로 답변될 수 있는 경우, 문서 내용을 근거로 '예' 또는 '아니오'로 명확하게 먼저 답변하고, 그 이유가 되는 문장을 함께 제시한다.
        - 비교 질문: 두 개 이상의 RFP 문서를 비교해달라는 요청에는, 지정된 기준에 따라 각 문서의 핵심 내용을 표(Table) 형식으로 요약하여 명확하게 비교한다.
        - 전문가적 조언: 입찰 컨설턴트로서, RFP 문서 내용을 바탕으로 전문적인 조언을 포함하여 답변을 구성한다.

    </instructions>

    <context>
        <retrieved_rfp_documents>
            {retrieved_rfp_text}
        </retrieved_rfp_documents>

        <user_question>
            {new_user_text}
        </user_question>
    </context>
</prompt>
"""

DEVELOPER_PROMPT_TEMPLATE = """
<prompt>
    <identity>
        너는 데이터 분석가이다. 너의 유일한 임무는 컨설턴트가 고객사에게 적합한 입찰 기회를 놓치지 않도록, 매일 쏟아지는 RFP의 핵심 정보를 가장 효율적으로 처리하여 제공하는 것이다. 너는 사용자의 질문에 대해, RFP 문서에서 객관적인 사실(Fact)만을 추출하여 한눈에 파악하기 쉬운 형태로 요약하고 구조화한다. 너의 목표는 컨설턴트가 RFP의 전체 내용을 읽지 않고도, 단 몇 분 안에 해당 입찰의 참여 여부를 판단할 수 있는 핵심 근거를 제공하는 것이다.
    </identity>

    <instructions>
        ## 목표
        - 사용자의 질문에 대해 주어진 RFP 문서 내용에만 근거하여 명확하고 사실적인 답변을 생성한다.

        ## 핵심 규칙
        1.  사실 기반 응답: 오직 아래 <context>에 제공된 RFP 문서 내용만을 사용하여 답변해야 한다. 추론, 가정, 또는 외부 지식을 절대 사용해서는 안 된다.
        2.  출처 명시: 모든 주장의 근거는 반드시 문서에서 인용하여 신뢰성을 높인다.
        3.  종합적 요약: 관련된 여러 문서 조각이 있다면, 이를 논리적으로 종합하여 하나의 일관된 답변으로 재구성한다. 사용자가 전체 맥락을 파악할 수 있도록 핵심 정보를 요약하여 제공한다.
        4.  쉬운 언어 사용: RFP의 전문 용어나 복잡한 문장은 사용자가 이해하기 쉬운 평이한 표현으로 바꾸어 설명한다.

        ## 답변 형식
        - '예/아니오' 질문: 질문이 '예/아니오'로 답변될 수 있는 경우, 문서 내용을 근거로 '예' 또는 '아니오'로 명확하게 먼저 답변하고, 그 이유가 되는 문장을 함께 제시한다.
        - 비교 질문: 두 개 이상의 RFP 문서를 비교해달라는 요청에는, 지정된 기준에 따라 각 문서의 핵심 내용을 표(Table) 형식으로 요약하여 명확하게 비교한다.
        - 전문가적 조언: 입찰 컨설턴트로서, RFP 문서 내용을 바탕으로 전문적인 조언을 포함하여 답변을 구성한다.
    </instructions>
</prompt>
"""


DUMMY_RFP_TEXT = """
[문서 1]

ID: NPS-elearning-RFP-001

출처: 제안요청서_2장_사업개요.pdf

내용:

본 사업은 국민연금공단 임직원의 직무 역량 강화를 목표로 한다. 기존 노후화된 이러닝 시스템을 클라우드 기반의 차세대 지능형 학습 관리 시스템(LMS)으로 전면 재구축하여, 상시 학습 및 맞춤형 학습 환경을 제공하고자 한다. 이를 통해 공단의 디지털 전환(DX)을 가속화하고 교육 효과성을 극대화하는 것을 목적으로 한다.

[문서 2]

ID: NPS-elearning-RFP-002

출처: 제안요청서_3장_요구사항_상세.pdf

내용:

[기능 요구사항 - FR-005: 학습자 중심의 학습 기능]
학습자는 자신의 직무, 직급에 따라 추천되는 '개인별 맞춤 학습 경로' 기능을 제공받아야 한다. 또한, PC, 태블릿, 모바일 등 어떤 기기에서도 끊김 없이 학습을 이어갈 수 있도록 반응형 웹 기술을 필수적으로 적용해야 하며, 별도의 모바일 앱을 통해 학습 진도 관리 및 푸시 알림 기능을 제공해야 한다.

[문서 3]

ID: NPS-elearning-RFP-003

출처: 제안요청서_3장_요구사항_상세.pdf

내용:

[성능 요구사항 - NFR-001: 시스템 성능 및 확장성]
제안사는 공단 전 직원(약 1만 명) 중 최소 20%가 동시 접속하여 동영상 콘텐츠를 수강하는 환경에서도 3초 이내의 페이지 응답 속도를 보장해야 한다. 향후 사용자 증가에 유연하게 대응할 수 있도록 서버 자원을 자동으로 확장/축소할 수 있는 오토 스케일링(Auto-Scaling) 아키텍처를 제시해야 한다.

[문서 4]

ID: NPS-elearning-RFP-004

출처: 제안요청서_3장_요구사항_상세.pdf

내용:

[보안 요구사항 - SCR-002: 개인정보보호 및 접근 통제]
본 시스템에서 처리되는 모든 임직원 개인정보는 '개인정보보호법' 및 공단 내부 규정에 따라 암호화하여 관리해야 한다. 또한, 공단의 통합인증(SSO) 시스템과 연동하여 한 번의 로그인으로 시스템을 이용할 수 있도록 구현하고, 관리자 접근 시에는 2단계 인증(2FA)을 의무적으로 적용해야 한다.

[문서 5]

ID: NPS-elearning-RFP-005

출처: 제안요청서_3장_요구사항_상세.pdf

내용:

[데이터 요구사항 - DR-001: 기존 데이터 이관]
현재 운영 중인 구형 이러닝 시스템에 존재하는 모든 학습 이력(수료, 미수료, 진도율, 시험 결과 등) 데이터는 손실 없이 신규 시스템으로 이관(Migration)되어야 한다. 제안사는 데이터 정합성 검증 방안을 포함한 상세한 마이그레이션 계획을 제시해야 한다.
"""
